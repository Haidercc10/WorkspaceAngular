<div class="d-flex justify-content-center overlay" *ngIf="load">
    <div style="margin: auto;">
      <p-progressSpinner></p-progressSpinner>
    </div>
</div>
  
<div class="contain">
    <!-- Navegador fin de parte superior -->
    <div class="container-fluid">
      <div class="mb-4 Titulo">
        <h2 [ngClass]="{'tituloRojo' : !modoSeleccionado, 'tituloClaro': modoSeleccionado }">Subir / Ver Producción</h2>
      </div>
      <div class="mb-4">
        <hr class="colorLinea">
      </div>
    </div>
</div>

<p-card>
    <div class="mb-4">
        <h4 [ngClass]="{'tituloRojo' : !modoSeleccionado, 'tituloClaro': modoSeleccionado }"><i class="pi pi-wrench"></i> Cargar Datos Producción</h4>
    </div>

    <p-tabView>
        <p-tabPanel header="Subir Producción" leftIcon="pi pi-upload">
            <p-table
            [value]="sendProductionZeus"
            columnResizeMode="expand"
            styleClass="p-datatable-sm"
            responsiveLayout="scroll"
            [rowHover]="true"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} rollos"
            [paginator]="true"
            [rows]="10"
            [rowsPerPageOptions]="[10, 20, 30, 50, 100]"
            [scrollable]="true"
            scrollHeight="50rem">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="text-center">#</th>
                        <th class="text-center">Rollo</th>
                        <th class="text-center">Peso Bruto</th>
                        <th class="text-center">Peso Neto</th>
                        <th class="text-center">Material</th>
                        <th class="text-center">Maquina</th>
                        <th class="text-center">Fecha</th>
                        <th class="text-center">Hora</th>
                        <th class="text-center">Turno</th>
                        <th class="text-center">Proceso</th>
                        <th class="text-center" alignFrozen="right" pFrozenColumn [frozen]="true">Imprimir</th>
                        <th class="text-center" alignFrozen="right" pFrozenColumn [frozen]="true">Quitar</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-data let-rowIndex="rowIndex">
                    <tr>
                        <td class="text-center">{{rowIndex + 1}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td class="text-center">{{data}}</td>
                        <td alignFrozen="right" pFrozenColumn [frozen]="true">
                            <p-button icon="pi pi-print" [rounded]="true" severity="success"></p-button> 
                        </td>
                        <td alignFrozen="right" pFrozenColumn [frozen]="true">
                            <p-button icon="pi pi-trash" [rounded]="true" severity="danger"></p-button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="footer">
                    <tr>
                        <td colspan="2">Totales</td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td colspan="8"></td>
                    </tr>
                </ng-template>
            </p-table>

            <div class="d-grid gap-2 d-md-flex justify-content-md-center my-2">
                <button pButton class="p-button-danger" id="crear" type="button" label="Subir Producción" icon="pi pi-send" (click)="requestDevice()"></button>
                <button pButton class="p-button-secondary" id="limpiar" type="button" label="Limpiar Campos" icon="pi pi-eraser"></button>
            </div>
        </p-tabPanel>

        <p-tabPanel header="Consultar Producción" leftIcon="pi pi-search">
            <app-Reporte-Produccion></app-Reporte-Produccion>
        </p-tabPanel>
    </p-tabView>
</p-card>