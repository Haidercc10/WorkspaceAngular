 <p-toast position="center" [preventOpenDuplicates]="true"></p-toast>

<ng-container *ngIf="!modeModal">
  <app-menuLateral></app-menuLateral>
<br>
</ng-container>

<div class="d-flex justify-content-center overlay" *ngIf="!load">
  <div style="margin: auto;">
    <p-progressSpinner></p-progressSpinner>
  </div>
</div>

<div class="contain">
  <div class="mb-4 Titulo">
    <h2 [ngClass]="{'tituloRojo': !modoSeleccionado, 'tituloClaro': modoSeleccionado}" class="font-size-32">Reporte de Procesos OT</h2>
  </div>

  <div class="mb-4">
    <hr class="colorLinea">
  </div>
</div>

<p-card>
  <div class="mb-4">
    <h4 [ngClass]="{'tituloRojo': !modoSeleccionado, 'tituloClaro': modoSeleccionado}" class="font-size-24"><i class="pi pi-search"></i> Búsqueda por filtros</h4>
  </div>

  <!-- Inicio formulario Estado OT -->
  <form [formGroup]="formularioOT">
    <div class="mb-4">
      <div class="row g-4">

        <!--OT-->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <span class="p-float-label">
            <input formControlName="idDocumento" id="OT" type="text" pInputText/>
            <label for="OT">OT</label>
          </span>
        </div>

        <!-- Fecha Inicial -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <span class="p-float-label">
            <p-calendar formControlName="fecha" inputId="FechaInicial" [showIcon]="true"></p-calendar>
            <label for="FechaInicial">Fecha Inicial</label>
          </span>
        </div>

        <!-- Fecha Final -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <span class="p-float-label">
            <p-calendar formControlName="fechaFinal" inputId="FechaFinal" [showIcon]="true"></p-calendar>
            <label for="FechaFinal">Fecha Final</label>
          </span>
        </div>

        <!-- Vendedores -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-4 col-xxl-4">
          <span class="p-float-label">
            <input formControlName="Vendedor" id="Vendedores" list="Vendedor" (change)="buscarVendedor()" type="text" pInputText/>
            <datalist id="Vendedor">
              <option value={{item.usua_Id}} *ngFor="let item of vendedores">{{item.usua_Nombre}}</option>
            </datalist>
            <label for="Vendedores">Vendedor</label>
          </span>
        </div>

        <!-- Estados -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <span class="p-float-label">
            <p-dropdown formControlName="estado" inputId="estado" [options]="estados" optionValue="estado_Id" optionLabel="estado_Nombre" [autoDisplayFirst]="false"></p-dropdown>
            <label for="estado">Estado OT</label>
          </span>
        </div>

        <!-- Clientes -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-4 col-xxl-4">
          <span class="p-float-label">
            <input formControlName="cliente" id="Cliente" list="clientes" type="text" pInputText (change)="selectEventCliente()"/>
            <datalist id="clientes">
              <option value={{item.cli_Id}} *ngFor="let item of clientes">{{item.cli_Nombre}}</option>
            </datalist>
            <label for="Cliente">Cliente</label>
          </span>
        </div>

        <!-- Producto -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <span class="p-float-label">
            <input formControlName="producto" id="Producto" type="text" pInputText/>
            <label for="Producto">Producto</label>
          </span>
        </div>

        <!-- Fallas -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-2 col-xxl-2">
          <span class="p-float-label">
            <p-dropdown formControlName="fallasOT" inputId="Fallas" [options]="fallas" optionValue="falla_Id" optionLabel="falla_Nombre" [autoDisplayFirst]="false"></p-dropdown>
            <label for="Fallas">Fallas OT</label>
          </span>
        </div>

        <!-- Observación -->
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-4 col-xxl-4">
          <span class="p-float-label">
            <textarea formControlName="ObservacionOT" [rows]="1" maxlength="200" pInputTextarea></textarea>
            <label for="textarea">Observación</label>
          </span>
        </div>
      </div>
    </div>

    <!-- Botones para consultar OT -->
    <div class="mb-3">
      <div class="d-grid gap-2 d-md-flex justify-content-md-center">
        <button pButton class="p-button-danger" type="button" label="Consultar" icon="pi pi-search" (click)="consultarOT()"></button>
        <button pButton class="p-button-secondary" type="button" label="Limpiar Campos" icon="pi pi-eraser" (click)="limpiarCampos()"></button>
        <button pButton class="p-button-warning" type="button" label="Agregar Falla" icon="pi pi-check-circle" (click)="anadirFalla()"></button>
        <button pButton class="p-button-success" type="button" label="Exportar a Excel" icon="pi pi-file-excel" (click)="exportToExcel()"></button>
      </div>
    </div>
  </form>
  <!--Fin Formulario -->

  <div class="mb-4">
    <hr class="colorLinea">
  </div>

  <!-- Tabla informativa de colores -->
  <!--<div class="d-grid gap-2 d-md-flex justify-content-md-center">
    <div class="table-responsive">
      <table class="table tableColores">
        <thead class="TitulosTabla">
          <td class="amarillo">
            <a class="btn" data-bs-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Iniciado <b>{{cantidadOTIniciada}}</b></a>
            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample1">
                  <div class="card card-body">
                    Este color indica que la OT ya inició su producción.
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td class="naranja">
            <a class="btn naranja" data-bs-toggle="collapse" href="#multiCollapseExample2" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Abierta <b>{{catidadOTAbiertas}}</b></a>
            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample2">
                  <div class="card card-body">
                    Este color indica que la OT está abierta, es decir, no tiene asignaciones y tampoco ha empazado su producción.
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td class="verde">
            <a class="btn verde" data-bs-toggle="collapse" href="#multiCollapseExample4" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Terminada <b>{{cantidadOTTerminada}}</b></a>
            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample4">
                  <div class="card card-body">
                    Este color indica que la orden de trabajo está terminada, es decir, que su producción ya alcanzó la cantidad pedida.
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td class="azul">
            <a class="btn" data-bs-toggle="collapse" href="#multiCollapseExample5" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Asignada <b>{{cantidadOTAsignadas}}</b></a>
            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample5">
                  <div class="card card-body">
                    Este color indica que la orden de trabajo está asignada, es decir, ya se hicieron asignaciones pero no ha empazado su producción.
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td class="rojo">
              <a class="btn" data-bs-toggle="collapse" href="#multiCollapseExample6" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Anulada <b>{{cantidadOtAnulada}}</b></a>
              <div class="row">
                <div class="col">
                  <div class="collapse multi-collapse" id="multiCollapseExample6">
                    <div class="card card-body">
                      Este color indica que la orden de trabajo está asignada, es decir, ya se hicieron asignaciones pero no ha empazado su producción.
                    </div>
                  </div>
                </div>
              </div>
          </td>
          <td class="verde2">
            <a class="btn" data-bs-toggle="collapse" href="#multiCollapseExample8" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">Cerrada <b>{{cantidadOTCerrada}}</b></a>
            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample8">
                  <div class="card card-body">
                    Este color indica que la orden de trabajo está cerrada, es decir, ya se finalizó su producción y se cerró la orden para que no haya más producción.
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td class="gris">
            <a class="btn gris" data-bs-toggle="collapse" href="#multiCollapseExample3" role="button" aria-expanded="false" aria-controls="multiCollapseExample1"><b>No iniciado</b></a>
            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample3">
                  <div class="card card-body">
                    Este color indica la OT ya inició su producción en otros procesos, pero no ha llegado aún al proceso con este color.
                  </div>
                </div>
              </div>
            </div>
          </td>
        </thead>
      </table>
    </div>
  </div>-->

  <div class="mb-4">
    <div class="row g-3">
      <div id="centrar" class="col-xs-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
        <h4 [ngClass]="{'tituloRojo': !modoSeleccionado, 'tituloClaro': modoSeleccionado}" class="font-size-24" style="width: 90%;"><i class="pi pi-file-edit font-size-24"></i> Ordenes de Trabajo</h4>
      </div>
      <div id="centrar" class="col-xs-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 col-xxl-6" >
        <p class="text-right"><b>Haz clic sobre los botones </b> <i class="pi pi-info-circle"></i> y observa que <b>indica cada color </b> <i class="pi pi-palette"></i></p>
      </div>
    </div>
  </div>

  <!-- Tabla donde se mostrarán las OT Consultadas -->
  <div *ngIf="load" id="tableProcesos" class="font-size-14">
    <div class="mb-4 ">
      <div class="row g-3">
        <!-- Buscador de columnas -->
        <p-toolbar>
          <div class="row g-2">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6">
              <p-multiSelect
              [options]="columnas"
              [(ngModel)]="columnasSeleccionada"
              optionLabel="header"
              selectedItemsLabel="{0} columnas seleccionadas"
              placeholder="Elige las columnas que quieres ver">
              </p-multiSelect>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6 text-right">
              <p-button class="btnAmarillo" styleClass="p-button-rounded mr-2" label="{{cantidadOTIniciada}}" pTooltip="Iniciada" tooltipPosition="top"></p-button>
              <p-button class="btnNaranja" styleClass="p-button-rounded mr-2" label="{{catidadOTAbiertas}}" pTooltip="Abierta" tooltipPosition="top"></p-button>
              <p-button class="btnVerde" styleClass="p-button-rounded mr-2" label="{{cantidadOTTerminada}}" pTooltip="Terminada" tooltipPosition="top"></p-button>
              <p-button class="btnAzul" styleClass="p-button-rounded mr-2" label="{{cantidadOTAsignadas}}" pTooltip="Asignada" tooltipPosition="top"></p-button>
              <p-button class="btnRojo" styleClass="p-button-rounded mr-2" label="{{cantidadOtAnulada}}" pTooltip="Anulada" tooltipPosition="top"></p-button>
              <p-button class="btnVerde2" styleClass="p-button-rounded mr-2" label="{{cantidadOTCerrada}}" pTooltip="Cerrada" tooltipPosition="top"></p-button>
              <p-button class="btnGris" styleClass="p-button-rounded" label="{{0}}" pTooltip="No iniciado" tooltipPosition="top"></p-button>
            </div>
          </div>
        </p-toolbar>

        <!-- Tabla con información de la orden de trabajo -->
        <p-table
          #dt
          [columns]="columnasSeleccionada"
          [value]="ArrayDocumento"
          [resizableColumns]="true"
          columnResizeMode="expand"
          styleClass="p-datatable-gridlines p-datatable-sm"
          responsiveLayout="scroll"
          [paginator]="true"
          [rows]="30"
          [showCurrentPageReport]="true"
          currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} registros"
          [rowsPerPageOptions]="[10,20,30,50,70,100]"
          [rowHover]="true"
          dataKey="ot">

          <!-- Titulos -->
          <ng-template pTemplate="header" let-columns>
            <tr class="font-size-13">
              <th scope="col" pSortableColumn="ot" pResizableColumn>OT
                <p-sortIcon field="ot" title="Order por OT"></p-sortIcon>
              </th>
              <th id="" scope="col" pSortableColumn="cli" pResizableColumn>Cliente
                <p-sortIcon field="cli"></p-sortIcon>
              </th>
              <th id="" scope="col" pSortableColumn="prod" pResizableColumn>Producto
                <p-sortIcon field="prod"></p-sortIcon>
              </th>
              <th id="" scope="col" pResizableColumn>Materia Prima</th>
              <th id="" scope="col" pResizableColumn>Extrusión</th>
              <th id="" scope="col" pResizableColumn>Impresión</th>
              <th id="" scope="col" pResizableColumn>Rotograbado</th>
              <th id="" scope="col" pResizableColumn>Doblado</th>
              <th id="" scope="col" pResizableColumn>Laminado</th>
              <th id="" scope="col" pResizableColumn>Corte</th>
              <th id="" scope="col" pResizableColumn>Empaque</th>
              <th id="" scope="col" pResizableColumn>Sellado</th>
              <th id="" scope="col" pResizableColumn>Wiketiado</th>
              <th id="" scope="col" pResizableColumn>Cant. Producir</th>
              <th id="" scope="col" pResizableColumn>Estados</th>
              <th id="" scope="col" pResizableColumn>Fecha Creación</th>
              <th *ngFor="let col of columns" pResizableColumn>{{col.header}}</th>
              <th></th>
            </tr>
          </ng-template>
          <!-- Cuerpo -->
          <ng-template pTemplate="body" let-ArrayDocumento let-columns="columns">
            <tr style="cursor: pointer; cursor: hand;">
              <td id="ot" scope="col" (click)="reporteOT(ArrayDocumento.ot)"><b>{{ArrayDocumento.ot}}</b></td>
              <td id="mp" scope="col">{{ArrayDocumento.cli}}</td>
              <td id="mp" scope="col">{{ArrayDocumento.prod}}</td>
              <td id="mp" scope="col"><b>{{ArrayDocumento.Mp | number : '1.2-2'}}</b></td>
              <!-- Extrusion -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.ext >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="ext" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext | number}}</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.ext < ArrayDocumento.cant && ArrayDocumento.ext > 0">
                <td id="ext" scope="col" style="background-color: #F3FC20; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext | number}}</td>
              </ng-container>
              <!-- Abierta / Asignada / Anulada -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila1">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="ext" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext == 0 ? 'NO' : ArrayDocumento.ext | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="ext" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext == 0 ? 'NO' : ArrayDocumento.ext | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="ext" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext == 0 ? 'NO' : ArrayDocumento.ext | number}}</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila1>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.ext == 0 && ArrayDocumento.ext < ArrayDocumento.cant" id="ext" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext == 0 ? 'NO' : ArrayDocumento.ext | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.ext == 0 && ArrayDocumento.ext < ArrayDocumento.cant" id="ext" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EXTRUSION')">{{ArrayDocumento.ext == 0 ? 'NO' : ArrayDocumento.ext | number}}</td>
              </ng-template>

              <!-- Impresion -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.imp >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="imp" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')" >{{ArrayDocumento.imp | number}}</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.imp < ArrayDocumento.cant && ArrayDocumento.imp > 0">
                <td id="imp" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.imp | number}}</td>
              </ng-container>
              <!-- Abierta / Asignada / Anulada -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila2">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="imp" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.imp == 0 ? 'NO' : ArrayDocumento.imp | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="imp" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.imp == 0 ? 'NO' : ArrayDocumento.imp | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="imp" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.imp == 0 ? 'NO' : ArrayDocumento.imp | number}}</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila2>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.imp == 0 && ArrayDocumento.imp < ArrayDocumento.cant" id="imp" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.imp == 0 ? 'NO' : ArrayDocumento.imp | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.imp == 0 && ArrayDocumento.imp < ArrayDocumento.cant" id="imp" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.imp == 0 ? 'NO' : ArrayDocumento.imp | number}}</td>
              </ng-template>

              <!-- Rotograbado -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.rot >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="rot" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'ROTOGRABADO')">{{ArrayDocumento.rot | number}}</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.rot < ArrayDocumento.cant && ArrayDocumento.rot > 0">
                <td id="rot" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'ROTOGRABADO')"data-bs-toggle="modal" data-bs-target="#staticBackdrop2">{{ArrayDocumento.rot | number}}</td>
              </ng-container>
              <!-- Abierta / Asignada / Anulada -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila3">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="rot" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.rot == 0 ? 'NO' : ArrayDocumento.rot | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="rot" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.rot == 0 ? 'NO' : ArrayDocumento.rot | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="rot" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'IMPRESION')">{{ArrayDocumento.rot == 0 ? 'NO' : ArrayDocumento.rot | number}}</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila3>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.rot == 0 && ArrayDocumento.rot < ArrayDocumento.cant" id="rot" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'ROTOGRABADO')"data-bs-toggle="modal" data-bs-target="#staticBackdrop2">{{ArrayDocumento.rot == 0 ? 'NO' : ArrayDocumento.rot | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.rot == 0 && ArrayDocumento.rot < ArrayDocumento.cant" id="rot" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'ROTOGRABADO')"data-bs-toggle="modal" data-bs-target="#staticBackdrop2">{{ArrayDocumento.rot == 0 ? 'NO' : ArrayDocumento.rot | number}}</td>
              </ng-template>

              <!-- Doblado -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.dbl >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="dbl" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl | number}}</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.dbl < ArrayDocumento.cant && ArrayDocumento.dbl > 0">
                <td id="dbl" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl | number}}</td>
              </ng-container>
              <!-- Abierta / Asignada / Anulado -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila4">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="dbl" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl == 0 ? 'NO' : ArrayDocumento.dbl | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="dbl" scope="col" style="background-color: #F6D45D; color: #495057;" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl == 0 ? 'NO' : ArrayDocumento.dbl | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="dbl" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl == 0 ? 'NO' : ArrayDocumento.dbl | number}}</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila4>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.dbl == 0 && ArrayDocumento.dbl < ArrayDocumento.cant" id="dbl" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl == 0 ? 'NO' : ArrayDocumento.dbl | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.dbl == 0 && ArrayDocumento.dbl < ArrayDocumento.cant" id="dbl" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'DOBLADO')">{{ArrayDocumento.dbl == 0 ? 'NO' : ArrayDocumento.dbl | number}}</td>
              </ng-template>

              <!-- laminado -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.lam >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="lam" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam | number}}</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.lam < ArrayDocumento.cant && ArrayDocumento.lam > 0">
                <td id="lam" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam | number}}</td>
              </ng-container>
              <!-- Abierta / Asignada / Anulado -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila5">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="lam" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam == 0 ? 'NO' : ArrayDocumento.lam | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="lam" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam == 0 ? 'NO' : ArrayDocumento.lam | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="lam" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam == 0 ? 'NO' : ArrayDocumento.lam | number}}</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila5>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.lam == 0 && ArrayDocumento.lam < ArrayDocumento.cant" id="lam" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam == 0 ? 'NO' : ArrayDocumento.lam | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.lam == 0 && ArrayDocumento.lam < ArrayDocumento.cant" id="lam" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'LAMINADO')">{{ArrayDocumento.lam == 0 ? 'NO' : ArrayDocumento.lam | number}}</td>
              </ng-template>

              <!-- Corte -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.cor >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="cor" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor | number}}</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.cor < ArrayDocumento.cant && ArrayDocumento.cor > 0">
                <td id="cor" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor | number}}</td>
              </ng-container>
              <!-- Abierta / Asignada / Anulado -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila6">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="cor" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor == 0 ? 'NO' : ArrayDocumento.cor | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="cor" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor == 0 ? 'NO' : ArrayDocumento.cor | number}}</td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="cor" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor == 0 ? 'NO' : ArrayDocumento.cor | number}}</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila6>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.cor == 0 && ArrayDocumento.cor < ArrayDocumento.cant" id="cor" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor == 0 ? 'NO' : ArrayDocumento.cor | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.cor == 0 && ArrayDocumento.cor < ArrayDocumento.cant" id="cor" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'CORTE')">{{ArrayDocumento.cor == 0 ? 'NO' : ArrayDocumento.cor | number}}</td>
              </ng-template>

              <!-- Empaque -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.emp >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="emp" scope="col" style="background-color: #8AFC9B; color: #495057 " (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')"><b>{{ArrayDocumento.emp | number}}</b></td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.emp < ArrayDocumento.cant && ArrayDocumento.emp > 0">
                <td id="emp" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')"><b>{{ArrayDocumento.emp | number}}</b></td>
              </ng-container>
              <!-- Abierta / Asignada / Anulada -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila7">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="emp" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')"><b>{{ArrayDocumento.emp == 0 ? 'NO' : ArrayDocumento.emp | number}}</b></td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="emp" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')"><b>{{ArrayDocumento.emp == 0 ? 'NO' : ArrayDocumento.emp | number}}</b></td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="emp" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')"><b>{{ArrayDocumento.emp == 0 ? 'NO' : ArrayDocumento.emp | number}}</b></td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila7>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.emp == 0 && ArrayDocumento.emp < ArrayDocumento.cant" id="emp" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')">{{ArrayDocumento.emp == 0 ? 'NO' : ArrayDocumento.emp | number}}</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.emp == 0 && ArrayDocumento.emp < ArrayDocumento.cant" id="emp" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'EMPAQUE')">{{ArrayDocumento.emp == 0 ? 'NO' : ArrayDocumento.emp | number}}</td>
              </ng-template>

              <!-- Sellado -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.sel >= ArrayDocumento.cant && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="sel" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')"><b>{{ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd | number}} Und</b></td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.sel < ArrayDocumento.cant && ArrayDocumento.sel > 0">
                <td id="sel" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')"><b>{{ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd | number}} Und</b></td>
              </ng-container>
              <!-- Abierta / Asignada / Anulada -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila8">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="sel" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')"><b>{{ArrayDocumento.sel == 0 ? 'NO' : ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd == 0 ? 'NO' : ArrayDocumento.selUnd | number}} Und</b></td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="sel" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')"><b>{{ArrayDocumento.sel == 0 ? 'NO' : ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd == 0 ? 'NO' : ArrayDocumento.selUnd | number}} Und</b></td>
                </ng-container>
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="sel" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')"><b>{{ArrayDocumento.sel == 0 ? 'NO' : ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd == 0 ? 'NO' : ArrayDocumento.selUnd | number}} Und</b></td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila8>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.sel == 0 && ArrayDocumento.sel < ArrayDocumento.cant" id="sel" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')">{{ArrayDocumento.sel == 0 ? 'NO' : ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd == 0 ? 'NO' : ArrayDocumento.selUnd | number}} Und</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.sel == 0 && ArrayDocumento.sel < ArrayDocumento.cant" id="sel" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'SELLADO')">{{ArrayDocumento.sel == 0 ? 'NO' : ArrayDocumento.sel | number}} Kg - {{ArrayDocumento.selUnd == 0 ? 'NO' : ArrayDocumento.selUnd | number}} Und</td>
              </ng-template>

              <!-- Wiketiado -->
              <!-- Termianda -->
              <ng-container *ngIf="ArrayDocumento.wik >= (ArrayDocumento.cant) && ArrayDocumento.est != 'Abierta'  && ArrayDocumento.est != 'Asignada'">
                <td id="wik" scope="col" style="background-color: #8AFC9B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd | number}} Und</td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.wik < (ArrayDocumento.cant) && ArrayDocumento.wik > 0">
                <td id="wik" scope="col" style="background-color: #F9FC5B; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd | number}} Und</td>
              </ng-container>
              <!-- Asignada -->
              <ng-container *ngIf="(ArrayDocumento.ext + ArrayDocumento.imp + ArrayDocumento.rot + ArrayDocumento.dbl + ArrayDocumento.lam + ArrayDocumento.cor + ArrayDocumento.emp  + ArrayDocumento.sel + ArrayDocumento.wik) == 0; else fila9">
                <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                  <td id="wik" scope="col" style="background-color: #83D3FF; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd == 0 ? 'NO' : ArrayDocumento.wikUnd | number}} Und</td>
                </ng-container>
                <!-- Abierta -->
                <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                  <td id="wik" scope="col" style="background-color: #F6D45D; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd == 0 ? 'NO' : ArrayDocumento.wikUnd | number}} Und</td>
                </ng-container>
                <!-- Anulada -->
                <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                  <td id="wik" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd == 0 ? 'NO' : ArrayDocumento.wikUnd | number}} Und</td>
                </ng-container>
              </ng-container>
              <!-- No iniciado -->
              <ng-template #fila9>
                <td *ngIf="ArrayDocumento.est != 'Anulado' && ArrayDocumento.wik == 0 && ArrayDocumento.wik < ArrayDocumento.cant" id="wik" scope="col" style="background-color: #EAEAEA; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd == 0 ? 'NO' : ArrayDocumento.wikUnd | number}} Und</td>
                <td *ngIf="ArrayDocumento.est == 'Anulado' && ArrayDocumento.wik == 0 && ArrayDocumento.wik < ArrayDocumento.cant" id="wik" scope="col" style="background-color: #FF7878; color: #495057" (click)="seleccionarOTxStatus(ArrayDocumento, 'Wiketiado')">{{ArrayDocumento.wikUnd == 0 ? 'NO' : ArrayDocumento.wikUnd | number}} Und</td>
              </ng-template>

              <td id="cant" scope="col"><b>{{ArrayDocumento.cantUnd}}</b></td>

              <!-- Terminada -->
              <ng-container *ngIf="ArrayDocumento.est == 'Terminada'">
                <td id="est" scope="col" style="background-color: #8AFC9B; color: #495057"><b>{{ArrayDocumento.est | uppercase}}</b></td>
              </ng-container>
              <!-- Iniciada -->
              <ng-container *ngIf="ArrayDocumento.est == 'En proceso'">
                <td id="est" scope="col" style="background-color: #F9FC5B; color: #495057" ><b>{{ArrayDocumento.est | uppercase}}</b></td>
              </ng-container>
              <!-- Asignada -->
              <ng-container *ngIf="ArrayDocumento.est == 'Asignada'">
                <td id="est" scope="col" style="background-color: #83D3FF; color: #495057"><b>{{ArrayDocumento.est | uppercase}}</b></td>
              </ng-container>
              <!-- Abierta -->
              <ng-container *ngIf="ArrayDocumento.est == 'Abierta'">
                <td id="est" scope="col" style="background-color: #F6D45D; color: #495057"><b>{{ArrayDocumento.est | uppercase}}</b></td>
              </ng-container>
              <!-- Finalizada -->
              <ng-container *ngIf="ArrayDocumento.est == 'Anulado'">
                <td id="est" scope="col" style="background-color: #FF7878; color: #495057" ><b>{{ArrayDocumento.est | uppercase}}</b></td>
              </ng-container>
              <!-- Cerradas -->
              <ng-container *ngIf="ArrayDocumento.est == 'Cerrada'">
                <td id="est" scope="col" style="background-color: #53CC48; color: #FFF"><b>{{ArrayDocumento.est | uppercase}}</b></td>
              </ng-container>

              <!-- Fecha Creacion OT -->
              <td id="fecha" scope="col">{{ArrayDocumento.fecha | date : 'yyyy-MM-dd'}}</td>

              <td *ngFor="let col of columns">{{ArrayDocumento[col.field]}}</td>

              <td *ngIf="ValidarRol == 1 && storage_Id != 101">
                <button pButton pRipple icon="pi pi-pencil" [style]="{width: '30px', height: '30px'}" class="p-button-rounded p-button-success p-mr-2" (click)="editProduct(ArrayDocumento)"></button>
              </td>
            </tr>
          </ng-template>
          <!-- Suma total de registros -->
          <ng-template pTemplate="summary">
            <div class="p-d-flex p-ai-center p-jc-between">
              En total hay {{ArrayDocumento ? ArrayDocumento.length : 0 | number}} orden(es) de trabajo.
            </div>
          </ng-template>
        </p-table>

        <!-- Modal Para cambiar el estado de la orden de trabajo -->
        <p-dialog [(visible)]="modalEstadosOT" [draggable]="false" [style]="{width: '350px'}" header="Cambio de estado de OT" [modal]="true" >
          <ng-template pTemplate="content">
            <div class="p-field">
              <h6 for="name">Orden de Trabajo <b>{{otSeleccionada}}</b></h6>
            </div>

            <div class="p-field">
              <label class="p-mb-3">Estados de las ordenes de trabajo</label>
              <div class="p-formgrid p-grid">
                <div class="p-field-radiobutton p-col-6">
                  <p-radioButton id="category1" name="category" value="15" [(ngModel)]="estadoModal"></p-radioButton>
                  <label for="category1" style="padding-left: 3%;">Abierta&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                </div>
                <div class="p-field-radiobutton p-col-6">
                  <p-radioButton id="category2" name="category" value="3" [(ngModel)]="estadoModal"></p-radioButton>
                  <label for="category1" style="padding-left: 3%;">Anulada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                </div>
                <div class="p-field-radiobutton p-col-6">
                  <p-radioButton id="category3" name="category" value="14" [(ngModel)]="estadoModal"></p-radioButton>
                  <label for="category2" style="padding-left: 3%;">Asignada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                </div>
                <div class="p-field-radiobutton p-col-6">
                  <p-radioButton id="category5" name="category" value="16" [(ngModel)]="estadoModal"></p-radioButton>
                  <label for="category3" style="padding-left: 3%;">En Proceso&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                </div>
                <div class="p-field-radiobutton p-col-6">
                  <p-radioButton id="category6" name="category" value="17" [(ngModel)]="estadoModal"></p-radioButton>
                  <label for="category4" style="padding-left: 3%;">Terminada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                </div>
                <div class="p-field-radiobutton p-col-6" style="margin-left: 30%;">
                  <p-radioButton id="category4"name="category" value="18" [(ngModel)]="estadoModal"></p-radioButton>
                  <label class="font-size-20" for="category2" style="padding-left: 3%; color: #FF7878;">Revisada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                </div>
              </div>
            </div>
          </ng-template>

          <ng-template pTemplate="footer">
            <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
            <button pButton pRipple label="Guardar" icon="pi pi-check" class="p-button-text" (click)="cambiarEstado()"></button>
          </ng-template>
        </p-dialog>
        <p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>


        <p-dialog [(visible)]="modalProcesos" [draggable]="false" [style]="{width: 'auto'}" header="Rollos de la OT" [modal]="true" >
          <ng-template pTemplate="content">
            <app-DatosOT-Status></app-DatosOT-Status>
          </ng-template>
        </p-dialog>


        <p-dialog [(visible)]="mostrarModalCostos" [draggable]="false" [style]="{width: '90%'}" header="Reporte de costos" [modal]="true" >
          <ng-template pTemplate="content">
            <app-reporteCostosOT></app-reporteCostosOT>
          </ng-template>
        </p-dialog>

      </div>
    </div>
  </div>
</p-card>
