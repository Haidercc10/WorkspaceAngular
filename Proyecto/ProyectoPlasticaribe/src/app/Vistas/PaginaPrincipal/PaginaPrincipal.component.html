<app-menuLateral></app-menuLateral>

<div class="fondo">
  <!-- MENSAJE DE ADVERTENCIA -->
  <p-toast position="center" key="tc" [preventOpenDuplicates]="true"></p-toast>
  <div class="container-fluid contenedorCards" *ngIf="!displayTerminal" id="card">
    <p-tabView [scrollable]="true">
      <!-- ORDENES DE TRABAJO -->
      <p-tabPanel
        header="Facturación y Ordenes de Trabajo"
        leftIcon="pi pi-sliders-h"
        tooltip="Información de la Facturación Mensual y las Ordenes de Trabajo"
        *ngIf="ValidarRol == 1 || ValidarRol == 60">
        <app-DashBoard_Facturacion></app-DashBoard_Facturacion>
      </p-tabPanel>

      <!-- MATERIA PRIMA -->
      <p-tabPanel
        header="Materia Prima"
        leftIcon="pi pi-box"
        tooltip="Información de las Materias Primas"
        *ngIf="ValidarRol == 1 || ValidarRol == 60">
        <app-Dashboard_MatPrima></app-Dashboard_MatPrima>
      </p-tabPanel>

      <!-- PEDIDOS -->
      <p-tabPanel
        header="Pedidos"
        leftIcon="pi pi-shopping-bag"
        tooltip="Información de los Pedidos creados en Zeus"
        *ngIf="ValidarRol == 1 || ValidarRol == 60">
        <app-DashBoard_Pedidos></app-DashBoard_Pedidos>
      </p-tabPanel>
    </p-tabView>
  </div>

  <!-- DOCKER PARA ELEGIR LAS VISTAS FAVORITAS -->
  <div class="dock-window dock-advanced">
    <!-- Docker -->
    <div class="fixed-bottom">
      <p-dock [model]="dockItems" position="bottom">
        <ng-template pTemplate="item" let-item>
          <img [src]="item.icon" [alt]="item.label" width="100%" style="cursor: pointer;">
        </ng-template>
      </p-dock>
    </div>

    <!-- PickList -->
    <div class="contenedorLista" id="contenedorLista" *ngIf="displayTerminal">
      <div class="d-grid gap-2 d-md-flex justify-content-end">
        <!-- Para cerrar el apartado donde se escogen y modifican las vistas favoritas se creó un label que al dar click sobre el dejará de mostrar este apartado -->
        <label class="btnclose pi pi-times" mat-button (click)="cerrarLista()"></label>
      </div>
      <p-pickList
        [source]="disponiblesMostrar"
        [target]="targetProducts"
        [showTargetControls]="false"
        [showSourceControls]="false"
        sourceHeader="Disponible"
        targetHeader="Seleccionado"
        [dragdrop]="true"
        [metaKeySelection]="false"
        [responsive]="true"
        [sourceStyle]="{'height':'30rem'}"
        [targetStyle]="{'height':'30rem'}"
        filterBy="nombre"
        sourceFilterPlaceholder="Buscar por nombre"
        targetFilterPlaceholder="Buscar por nombre"
        (onMoveToTarget)="elegirFavoritos()"
        (onMoveAllToTarget)="llenarDatosRol()"
        (onMoveToSource)="elegirFavoritos()"
        (onMoveAllToSource)="elegirFavoritos()">
        <ng-template let-product pTemplate="item">
          <div class="product-item">
            <div class="product-list-detail">
              <span>
                <img class="image-container" [src]="product.icono" [alt]="product.nombre" width="10%">
                <p style="color: #000; padding-left: 5%;">{{product.nombre}}</p>
              </span>
              <p style="color: #db4149; padding-left: 20%;">{{product.categoria}}</p>
            </div>
          </div>
        </ng-template>
        <button pButton pRipple type="button" label="Secondary" class="p-button-secondary"></button>
      </p-pickList>
    </div>

  </div>
</div>
