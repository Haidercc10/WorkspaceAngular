<app-menuLateral></app-menuLateral>
<app-VistasFavoritas></app-VistasFavoritas>
<br>

<div class="d-flex justify-content-center overlay" *ngIf="cargando">
  <div style="margin: auto;">
    <p-progressSpinner></p-progressSpinner>
  </div>
</div>

<div class="contain">
  <div class="container-fluid">
    <div class="mb-4 Titulo">
      <h2 [ngClass]="{'tituloRojo' : !modoSeleccionado, 'tituloClaro': modoSeleccionado }">Ordenes de Trabajo</h2>
    </div>

    <div class="mb-4">
      <hr class="colorLinea">
    </div>
  </div>
</div>

<p-card>
  <!--Ver tutorial-->
  <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-3">
    <p-button icon="pi pi-info" styleClass="p-button-rounded p-button-warning" [style]="{width: '25px', height: '25px'}" (click)="verTutorial()" pTooltip="Ver Tutorial" tooltipPosition="left"></p-button>
  </div>

  <div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button pButton class="p-button-danger" id="crearCliente" type="button" label="Crear Clientes" icon="pi pi-check-circle" (click)="LlamarModalCrearCliente()"> </button>
    <button pButton class="p-button-danger" id="crearProducto" type="button" label="Crear productos" icon="pi pi-check-circle" (click)="LlamarModalCrearProducto()"> </button>
  </div>

  <div class="mb-4">
    <h4 class="tituloRojo"><i class="pi pi-search"></i> Consultar / <i class="pi pi-plus-circle"></i> Crear OT</h4>
    <br>
  </div>

  <form [formGroup]="FormOrdenTrabajo" id="formOrdenTrabajo">
    <div class="mb-3">
      <div class="row g-4">
        <!-- NUMERO ORDEN DE TRABAJO -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-2">
          <div class="p-inputgroup">
            <input formControlName="OT_Id" type="text" id="orden" placeholder="Nro. OT" pInputText (keyup.enter)="ConsultarOrdenTrabajo()"/>
            <button pButton class="p-button-danger" id="pdf" type="button" icon="pi pi-file-pdf" (click)="pdfOrdenTrabajo()"></button>
           </div>
        </div>
        
        <!-- ID CLIENTE -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 col-xxl-2" id="idCliente">
          <span class="p-input-icon-left p-float-label">
            <i class="pi pi-user"></i>
            <input formControlName="Id_Cliente" type="text" id="orden" pInputText [required]="true" [readonly]="true"/>
            <label for="orden">Id Cliente</label>
          </span>
        </div>

        <!-- NOMBRE CLIENTE -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-5 col-xxl-3" id="cliente">
          <span class="p-input-icon-left p-float-label">
            <i class="pi pi-users"></i>
            <input formControlName="Nombre_Cliente" id="cliente" list="clientes" type="text" pInputText (keyup)="consultarClientes()" (change)="clienteSeleccionado()" autocomplete="off"[required]="true"/>
            <datalist id="clientes">
              <option value={{item.cli_Id}} *ngFor="let item of clientes">{{item.cli_Nombre}}</option>
            </datalist>
            <label for="cliente">Cliente</label>
          </span>
        </div>

        <!-- ID PRODUCTO -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-2" id="idProducto">
          <span class="p-input-icon-left p-float-label">
            <i class="pi pi-box"></i>
            <input formControlName="Id_Producto" type="text" id="Id_Producto" (keyup.enter)="buscarProductoPorId()" pInputText [required]="true"/>
            <label for="Id_Producto">Item</label>
          </span>
        </div>

        <!-- NOMBRE PRODUCTO -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-3" id="producto">
          <span class="p-input-icon-left p-float-label">
            <i class="pi pi-th-large"></i>
            <input formControlName="Nombre_Producto" id="Nombre_Producto" list="productos" type="text" pInputText (keyup)="consultarProductos()" (change)="productoSeleccionado()" autocomplete="off"[required]="true"/>
            <datalist id="productos">
              <option value={{item.prod_Id}} *ngFor="let item of productos">{{item.prod_Nombre}}</option>
            </datalist>
            <label for="Nombre_Producto">Referencia</label>
          </span>
        </div>

        <!-- CANTIDAD A FABRICAR -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-3" id="cantidadFabricar">
          <span class="p-float-label">
            <p-inputNumber formControlName="Cantidad" mode="decimal" inputId="Cant" [minFractionDigits]="2" (onKeyDown)="calcularDatosOt()" [required]="true"></p-inputNumber>
            <label for="Cant">Cant. Pedida</label>
          </span>
        </div>

        <!-- PRESENTACION PRODUCTO -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-3" id="presentacion">
          <span class="p-float-label">
            <p-dropdown formControlName="Presentacion" inputId="Estado" [autoDisplayFirst]="false" [options]="presentaciones" optionLabel="undMed_Nombre" optionValue="undMed_Id" (onChange)="consultarInfoProducto()" [required]="true"></p-dropdown>
            <label for="Estado">Presentación</label>
          </span>
        </div>

        <!-- PRECIO UNITARIO -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-3" id="precioUnitario">
          <span class="p-float-label">
            <p-inputNumber formControlName="Precio" mode="decimal" prefix="$ " inputId="Cant" [minFractionDigits]="2" (onKeyDown)="calcularDatosOt()" [required]="true"></p-inputNumber>
            <label for="Cant">Precio Unitario</label>
          </span>
        </div>

        <!-- MARGEN ADICIONAL -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-3">
          <span class="p-float-label">
            <p-inputNumber formControlName="Margen" mode="decimal" inputId="Cant" prefix="% " [minFractionDigits]="2" [readonly]="true" [required]="true"></p-inputNumber>
            <label for="Cant">Margen Adicional</label>
          </span>
        </div>
        
        <!-- ID Vendedor -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-2 col-xxl-3">
          <span class="p-input-icon-left p-float-label">
            <i class="pi pi-user"></i>
            <input formControlName="Id_Vendedor" type="text" id="Id_Vendedor" pInputText [required]="true" [readonly]="true"/>
            <label for="Id_Vendedor">Id Vendedor</label>
          </span>
        </div>

        <!-- Nombre Vendedor -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
          <span class="p-float-label">
            <p-dropdown formControlName="Nombre_Vendedor" inputId="Nombre_Vendedor" [options]="vendedores" optionValue="usua_Nombre" optionLabel="usua_Nombre" [filter]="true" filterBy="usua_Nombre" [showClear]="true" [autoDisplayFirst]="false" [required]="true" (onChange)="vendedorSeleccionado()"></p-dropdown>
            <label for="Nombre_Vendedor">Vendedor</label>
          </span>
        </div>

        <!-- ESTADO DE LA ORDEN -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 col-xxl-3">
          <span class="p-float-label">
            <p-dropdown formControlName="OT_Estado" inputId="Estado" [options]="estados" optionLabel="estado_Nombre" optionValue="estado_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
            <label for="Estado">Estado OT</label>
          </span>
        </div>

        <!-- Fecha creacion -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 col-xxl-2">
          <span class="p-input-icon-left p-float-label">
            <i class="pi pi-calendar"></i>
            <input formControlName="OT_FechaCreacion" id="FechaCrea" type="text" pInputText [readOnly]="true" [required]="true"/>
            <label for="FechaCrea">Fecha Creación</label>
          </span>
        </div>

        <!-- Campo Observacion -->
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-12 col-xl-12 col-xxl-12">
          <span class="p-float-label">
            <textarea formControlName="OT_Observacion" [rows]="1" pInputTextarea></textarea>
            <label for="textarea">Observación</label>
          </span>
        </div>

      </div>
    </div>
  </form>

  <div class="mb-4">
    <hr class="colorLinea">
  </div>

  <!-- Información de Creación del Producto -->
  <div class="mb-4" *ngIf="!cargando">
    <div class="row">

      <!-- Checkbox Procesos  -->
      <div class="mb-4" id="check">
        <div class="row g-3 d-flex justify-content-center">
          <!-- Cyrel -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox" >
              <p-checkbox [(ngModel)]="cyrel" [binary]="true" inputId="Cyrel" id="Cyrel"></p-checkbox>
              <label for="Cyrel">Cyrel</label>
            </div>
          </div>

          <!-- Extrusión -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox" id="ext2">
              <p-checkbox [(ngModel)]="extrusion" [binary]="true" inputId="OT_Extrusion" id="ext1"></p-checkbox>
              <label id="ext3" for="OT_Extrusion">Extrusión</label>
            </div>
          </div>

          <!-- Impresion -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox">
              <p-checkbox [(ngModel)]="impresion" [binary]="true" (onChange)="impresionSeleccionada()" inputId="OT_Impresion" id="imp"></p-checkbox>
              <label for="OT_Impresion">Impresión</label>
            </div>
          </div>

          <!-- Rotograbado -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox">
              <p-checkbox [(ngModel)]="rotograbado" [binary]="true" (onChange)="rotograbadoSeleccionado()" inputId="OT_Rotograbado" id="rot"></p-checkbox>
              <label for="OT_Rotograbado">Rotograbado</label>
            </div>
          </div>

          <!-- Laminado -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox">
              <p-checkbox [(ngModel)]="laminado" [binary]="true" inputId="OT_Laminado" id="lam"></p-checkbox>
              <label for="OT_Laminado">Laminado</label>
            </div>
          </div>

          <!-- Corte -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox">
              <p-checkbox [(ngModel)]="corte" [binary]="true" inputId="OT_Corte" id="corte"></p-checkbox>
              <label for="OT_Corte">Corte</label>
            </div>
          </div>

          <!-- Sellado -->
          <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-1 col-xxl-1 mx-3">
            <div class="field-checkbox">
              <p-checkbox [(ngModel)]="sellado" [binary]="true" inputId="OT_Sellado" id="sella"></p-checkbox>
              <label for="OT_Sellado">Sellado</label>
            </div>
          </div>
        </div>
      </div>

      <!-- Linea -->
      <div class="mb-4">
        <hr class="colorLinea">
      </div>

      <!-- Titulo procesos -->
      <div class="mb-3">
        <h4 class="tituloRojo"><i class="pi pi-sitemap"></i> Procesos de Producción</h4>
      </div>

      <!-- Tabs de Procesos -->
      <p-tabView [scrollable]="true" id="datos-ot" class="justify-content-md-center">
        <!-- Datos OT -->
        <p-tabPanel
          header="Datos OT"
          leftIcon="pi pi-calculator"
          tooltip="Información de costos de la orden de trabajo">
          <div class="d-grid gap-2 d-md-flex justify-content-md-center">
            <div class="mb-3">
              <div class="row g-3">
                <p-chip id="cantidad" label="Cantidad {{presentacionProducto}}" icon="pi pi-shopping-cart"></p-chip>
                <label for="">{{cantidadProducto | number : '1.2-2'}}</label>
              </div>
            </div>
            <div class="mb-3">
              <div class="row g-3">
                <p-chip  id="valor1" label="Valor {{presentacionProducto}}" icon="pi pi-dollar"></p-chip>
                <label for="">${{valorProducto | number : '1.2-2'}}</label>
              </div>
            </div>
            <div class="mb-3">
              <div class="row g-3">
                <p-chip id="neto1" label="Neto Kg" icon="pi pi-th-large"></p-chip>
                <label for="">{{netoKg | number : '1.2-2'}}</label>
              </div>
            </div>
            <div class="mb-3">
              <div  class="row g-3">
                <p-chip id="valor-kg" label="Valor Kg" icon="pi pi-money-bill"></p-chip>
                <label for="">${{valorKg | number : '1.2-2'}}</label>
              </div>
            </div>
            <div class="mb-3">
              <div class="row g-3">
                <p-chip id="valor-ot" label="Valor OT" icon="pi pi-wallet"></p-chip>
                <label for="">${{valorOt | number : '1.2-2'}}</label>
              </div>
            </div>
          </div>
        </p-tabPanel>        

        <!-- Extrusion -->
        <p-tabPanel
          header="Extrusión"
          leftIcon="pi pi-bolt"
          *ngIf="extrusion">
          <br>
          <form [formGroup]="FormOrdenTrabajoExtrusion">
            <div class="mb-3">
              <div class="row g-4 justify-content-md-center">

                <!-- Material -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Material_Extrusion" inputId="Material" optionValue="material_Id" [autoDisplayFirst]="false" [options]="arrayMateriales" optionLabel="material_Nombre" [required]="true"></p-dropdown>
                    <label for="Material">Material</label>
                  </span>
                </div>

                <!-- Formato -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Formato_Extrusion" inputId="Formato" optionValue="formato_Id" [autoDisplayFirst]="false" [options]="formatos" optionLabel="formato_Nombre" [required]="true"></p-dropdown>
                    <label for="Formato">Formato</label>
                  </span>
                </div>

                <!-- Pigmento -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Pigmento_Extrusion" inputId="Pigmento" [options]="arrayPigmentos" optionLabel="pigmt_Nombre" optionValue="pigmt_Id" [autoDisplayFirst]="false" [filter]="true" filterBy="pigmt_Nombre" [required]="true"></p-dropdown>
                    <label for="Pigmento">Pigmento</label>
                  </span>
                </div>

                <!-- Tratado -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tratado_Extrusion" inputId="Tratado" [options]="tratado" optionLabel="tratado_Nombre" optionValue="tratado_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                    <label for="Tratado">Tratado</label>
                  </span>
                </div>

                <!--Ancho 1 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Ancho_Extrusion1" inputId="Ancho1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Ancho1">Ancho 1</label>
                  </span>
                </div>

                <!--Ancho 2-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Ancho_Extrusion2" inputId="Ancho2" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Ancho2">Ancho 2</label>
                  </span>
                </div>

                <!--Ancho 3-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Ancho_Extrusion3" inputId="Ancho3" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Ancho3">Ancho 3</label>
                  </span>
                </div>

                <!-- Calibre -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Calibre_Extrusion" inputId="Calibre" mode="decimal" [minFractionDigits]="2" (keyup)="calcularDatosOt()" [required]="true"></p-inputNumber>
                    <label for="Calibre">Calibre</label>
                  </span>
                </div>

                <!-- Unidad Medida -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="UnidadMedida_Extrusion" inputId="UndMedida" [options]="arrayUnidadesMedidas" [autoDisplayFirst]="false" optionLabel="undMed_Id" optionValue="undMed_Id" [required]="true" (onChange)="calcularDatosOt()"></p-dropdown>
                    <label for="UndMedida">Und. Medida</label>
                  </span>
                </div>

                <!-- Peso Extrusion -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Peso_Extrusion" inputId="PesoExtrusion" mode="decimal" [minFractionDigits]="2" [required]="true" [readonly]="true"></p-inputNumber>
                    <label for="PesoExtrusion">Peso Extrusión</label>
                  </span>
                </div>
              </div>
            </div>
          </form>
        </p-tabPanel>

        <!-- Impresión -->
        <p-tabPanel
          header="Impresión"
          leftIcon="pi pi-print"
          *ngIf="impresion || rotograbado">
          <br>
          <form [formGroup]="FormOrdenTrabajoImpresion">
            <div class="mb-3">
              <div class="row g-4 justify-content-md-center">

                <!-- Tipo de Impresión -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tipo_Impresion" inputId="TipoImpresion" [autoDisplayFirst]="false" [options]="tiposImpresion" optionValue="tpImpresion_Id" optionLabel="tpImpresion_Nombre" [required]="true" [readonly]="true"></p-dropdown>
                    <label for="TipoImpresion">Tipo Impresión</label>
                  </span>
                </div>

                <!-- Rodillo -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Rodillo_Impresion" inputId="Rodillo" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Rodillo">Rodillo</label>
                  </span>
                </div>

                  <!-- Pista -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Pista_Impresion" inputId="Pista" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Pista">Pista</label>
                  </span>
                </div>

              </div>
            </div>

            <!--Fila 2-->
            <div class="mb-3" style="text-align: center;">
              <h6 class="tituloRojo">Tintas</h6>
              <br>
            </div>

              <!--Fila 3-->
            <div class="mb-4">
              <div class="row g-4 justify-content-md-center">

                <!-- Tinta 1 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion1" inputId="Tinta1" (onChange)="validarTinta('1')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta1">Tinta 1 (Opcional)</label>
                  </span>
                </div>

                <!-- Tinta 2 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion2" inputId="Tinta2" (onChange)="validarTinta('2')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta2">Tinta 2 (Opcional)</label>
                  </span>
                </div>

                <!-- Tinta 3 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion3" inputId="Tinta13" (onChange)="validarTinta('3')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta3">Tinta 3 (Opcional)</label>
                  </span>
                </div>

                  <!-- Tinta 4 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion4" inputId="Tinta4" (onChange)="validarTinta('4')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta4">Tinta 4 (Opcional)</label>
                  </span>
                </div>

                <!-- Tinta 5-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion5" inputId="Tinta5" (onChange)="validarTinta('5')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta5">Tinta 5 (Opcional)</label>
                  </span>
                </div>

                <!-- Tinta 6 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion6" inputId="Tinta6" (onChange)="validarTinta('6')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta6">Tinta 6 (Opcional)</label>
                  </span>
                </div>

                <!-- Tinta 7 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion7" inputId="Tinta7" (onChange)="validarTinta('7')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta7">Tinta 7 (Opcional)</label>
                  </span>
                </div>

                  <!-- Tinta 8 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Tinta_Impresion8" inputId="Tinta8" (onChange)="validarTinta('8')" [autoDisplayFirst]="false" [options]="arrayTintas" optionValue="tinta_Nombre" optionLabel="tinta_Nombre" [filter]="true" filterBy="tinta_Nombre" [required]="true"></p-dropdown>
                    <label for="Tinta8">Tinta 8 (Opcional)</label>
                  </span>
                </div>
              </div>
            </div>
          </form>
        </p-tabPanel>

        <!-- Laminado -->
        <p-tabPanel
          header="Laminado"
          leftIcon="pi pi-map"
          *ngIf="laminado">
          <br>
          <form [formGroup]="FormOrdenTrabajoLaminado">
            <!--Fila 1-->
            <div class="mb-3" >
              <div class="row g-4 justify-content-md-center">

                <!--Capa 1-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Capa_Laminado1" (onChange)="validarLaminado(1)" inputId="Capa1" [options]="laminado_capas" optionLabel="lamCapa_Nombre" optionValue="lamCapa_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                    <label for="Capa1">Capa 1</label>
                  </span>
                </div>

                <!--Calibre 1-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Calibre_Laminado1" (keyup)="validarLaminadoCapa(1)" inputId="Calibre1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Calibre1">Calibre 1</label>
                  </span>
                </div>

                <!--Cantidad x capa 1-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="cantidad_Laminado1" (keyup)="validarLaminadoCapa(1)" inputId="Cantidad1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Cantidad1">Cantidad 1</label>
                  </span>
                </div>

                <!--Capa 2-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Capa_Laminado2" (onChange)="validarLaminado(2)" inputId="Capa2" [options]="laminado_capas" optionLabel="lamCapa_Nombre" optionValue="lamCapa_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                    <label for="Capa2">Capa 2</label>
                  </span>
                </div>

                <!--Calibre 2-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Calibre_Laminado2" (keyup)="validarLaminadoCapa(2)" inputId="Calibre2" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Calibre2">Calibre 2</label>
                  </span>
                </div>

                <!--Cantidad x capa 2-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="cantidad_Laminado2" (keyup)="validarLaminadoCapa(2)" inputId="Cantidad2" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Cantidad2">Cantidad 2</label>
                  </span>
                </div>

                <!--Capa 3-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Capa_Laminado3" (onChange)="validarLaminado(3)" inputId="Capa3" [options]="laminado_capas" optionLabel="lamCapa_Nombre" optionValue="lamCapa_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                    <label for="Capa3">Capa 3</label>
                  </span>
                </div>

                <!--Calibre 3-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Calibre_Laminado3" inputId="Calibre3" (keyup)="validarLaminadoCapa(3)" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Calibre3">Calibre 3</label>
                  </span>
                </div>

                <!--Cantidad x capa 1-->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 col-xxl-2">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="cantidad_Laminado3" inputId="Cantidad3" (keyup)="validarLaminadoCapa(3)" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Cantidad3">Cantidad 3</label>
                  </span>
                </div>
              </div>
            </div>
          </form>
        </p-tabPanel>

        <!-- Corte -->
        <p-tabPanel
          header="Corte"
          leftIcon="pi pi-th-large"
          *ngIf="corte">
          <br>
          <form [formGroup]="FormOrdenTrabajoCorte">
            <div class="mb-3">
              <div class="row g-4 justify-content-md-center">

                <!-- Formato -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Formato_Corte" inputId="Formato" [options]="tipoProductos" optionLabel="tpProd_Nombre" optionValue="tpProd_Nombre" [autoDisplayFirst]="false" [required]="true" (onChange)="calcularDatosOt()"></p-dropdown>
                    <label for="Formato">Formato</label>
                  </span>
                </div>

                <!-- Ancho -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Ancho_Corte" inputId="Ancho" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Ancho">Ancho</label>
                  </span>
                </div>

                <!-- Largo-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Largo_Corte" inputId="Largo" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Largo">Largo</label>
                  </span>
                </div>

                <!-- Fuelle-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Fuelle_Corte" inputId="Fuelle" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Fuelle">Fuelle</label>
                  </span>
                </div>

                <!-- Etiqueta Ancho -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <input formControlName="Etiqueta_Ancho_Corte" id="etiquetaAncho" type="text" pInputText autocomplete="off" [required]="true"/>
                    <label for="etiquetaAncho">Etiqueta Ancho</label>
                  </span>
                </div>

                <!-- Etiqueta Largo-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <input formControlName="Etiqueta_Largo_Corte" id="etiquetaAncho" type="text" pInputText autocomplete="off" [required]="true"/>
                    <label for="Largo">Etiqueta Largo</label>
                  </span>
                </div>

                <!-- Etiqueta Fuelle-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <input formControlName="Etiqueta_Fuelle_Corte" id="etiquetaAncho" type="text" pInputText autocomplete="off" [required]="true"/>
                    <label for="Fuelle">Etiqueta Fuelle</label>
                  </span>
                </div>

                <!-- Margen -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Margen_Corte" inputId="Margen" mode="decimal" [minFractionDigits]="2" [required]="true" (onKeyDown)="calcularDatosOt()"></p-inputNumber>
                    <label for="Margen">Margen (%)</label>
                  </span>
                  <div>
                    <label><b>Margen Kg: </b>{{margenKg | number}}</label>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </p-tabPanel>

        <!-- Sellado -->
        <p-tabPanel
          header="Sellado"
          leftIcon="pi pi-tags"
          *ngIf="sellado">
          <br>
          <form [formGroup]="FormOrdenTrabajoSellado">
            <div class="mb-3" >
              <!-- DATOS PRODUCTO TERMINADO -->
              <div class="mb-4 text-center">
                <h6 class="tituloRojo">Producto Terminado</h6>
              </div>

              <div class="row g-4 justify-content-md-center">

                <!-- Formato -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <p-dropdown formControlName="Formato_Sellado" inputId="Formato" [options]="tipoProductos" optionLabel="tpProd_Nombre" optionValue="tpProd_Nombre" [autoDisplayFirst]="false" [required]="true" (onChange)="calcularDatosOt()"></p-dropdown>
                    <label for="Formato">Formato</label>
                  </span>
                </div>

                <!-- Ancho -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Ancho_Sellado" inputId="Ancho" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Ancho">Ancho</label>
                  </span>
                </div>

                <!-- Largo-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Largo_Sellado" inputId="Largo" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Largo">Largo</label>
                  </span>
                </div>

                <!-- Fuelle-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Fuelle_Sellado" inputId="Fuelle" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="Fuelle">Fuelle</label>
                  </span>
                </div>

                <!-- Etiqueta Ancho -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <input formControlName="Etiqueta_Ancho_Sellado" id="etiquetaAncho" type="text" pInputText autocomplete="off" [required]="true"/>
                    <label for="etiquetaAncho">Etiqueta Ancho</label>
                  </span>
                </div>

                <!-- Etiqueta Largo-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <input formControlName="Etiqueta_Largo_Sellado" id="etiquetaAncho" type="text" pInputText autocomplete="off" [required]="true"/>
                    <label for="Largo">Etiqueta Largo</label>
                  </span>
                </div>

                <!-- Etiqueta Fuelle-->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <input formControlName="Etiqueta_Fuelle_Sellado" id="etiquetaAncho" type="text" pInputText autocomplete="off" [required]="true"/>
                    <label for="Fuelle">Etiqueta Fuelle</label>
                  </span>
                </div>

                <!-- Margen -->
                <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="Margen_Sellado" inputId="Margen" mode="decimal" [minFractionDigits]="2" [required]="true" (onKeyDown)="calcularDatosOt()"></p-inputNumber>
                    <label for="Margen">Margen (%)</label>
                  </span>
                  <div>
                    <label><b>Margen Kg: </b>{{margenKg | number}}</label>
                  </div>
                </div>
              </div>
              <hr>

              <!-- DATOS SELLADO -->
              <div class="my-4 text-center">
                <h6 class="tituloRojo">Sellado</h6>
              </div>

              <div class="row g-4 justify-content-md-center">

                <!-- Peso Millar -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PesoMillar" [(ngModel)]="pesoMillar" inputId="PesoMillar" mode="decimal" [minFractionDigits]="2" [required]="true" [readonly]="true"></p-inputNumber>
                    <label for="PesoMillar">Peso Millar</label>
                  </span>
                </div>

                <!-- Tipo Sellado -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl">
                  <span class="p-float-label">
                    <p-dropdown formControlName="TipoSellado" inputId="TipoSellado" [options]="tipoSellado" optionLabel="tpSellados_Nombre" optionValue="tpSellados_Nombre" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                    <label for="TipoSellado">Tipo Sellado</label>
                  </span>
                </div>

                <!-- Cantidad Paquete -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="CantidadPaquete" inputId="CantidadPaquete" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="CantidadPaquete">Cantidad Paquete</label>
                  </span>
                </div>

                <!-- Peso Paquete -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PesoPaquete" inputId="PesoPaquete" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PesoPaquete">Peso Paquete</label>
                  </span>
                </div>

                <!-- Cantidad Bulto -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="CantidadBulto" inputId="CantidadBulto" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="CantidadBulto">Cantidad Bulto</label>
                  </span>
                </div>

                <!-- Peso Bulto -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PesoBulto" inputId="PesoBulto" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PesoBulto">Peso Bulto</label>
                  </span>
                </div>
              </div>
              <hr>

              <!-- PRECIOS SELLADO Y WIKETIADO -->
              <div class="my-4 text-center">
                <h6 class="tituloRojo">Precios Producción</h6>
              </div>

              <div class="row g-4 justify-content-md-center">
                <!-- Precio Sellado Día -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PrecioDia" inputId="PrecioDia" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PrecioDia">Sellado Día</label>
                  </span>
                </div>
                
                <!-- Precio Sellado Noche -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PrecioNoche" inputId="PrecioNoche" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PrecioNoche">Sellado Noche</label>
                  </span>
                </div>
                
                <!-- Precio Wiketiado Día Maquina 50 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PrecioWiketiadoDia_Mq50" inputId="PrecioDia" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PrecioDia">Wik. Día MQ 50</label>
                  </span>
                </div>
                
                <!-- Precio Wiketiado Noche Maquina 50 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PrecioWiketiadoNoche_Mq50" inputId="PrecioDia" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PrecioDia">Wik. Noche MQ 50</label>
                  </span>
                </div>
                
                <!-- Precio Wiketiado Día Maquina 9 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PrecioWiketiadoDia_Mq9" inputId="PrecioDia" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PrecioDia">Wik. Día MQ 9</label>
                  </span>
                </div>
                
                <!-- Precio Wiketiado Día Maquina 50 -->
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg">
                  <span class="p-float-label">
                    <p-inputNumber formControlName="PrecioWiketiadoNoche_Mq9" inputId="PrecioDia" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                    <label for="PrecioDia">Wik. Noche MQ 9</label>
                  </span>
                </div>
              </div>
              <hr>
            </div>
          </form>
        </p-tabPanel>

        <!-- Mezclas -->
        <p-tabPanel
          header="Mezclas"
          leftIcon="pi pi-slack" id="mezclas-ot">
          <!--Ver tutorial-->
          <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-3">
            <p-button icon="pi pi-info" styleClass="p-button-rounded p-button-warning" [style]="{width: '25px', height: '25px'}" (click)="verTutorial2()" pTooltip="Ver Tutorial" tooltipPosition="left"></p-button>
          </div>

          <!-- Boton para crear Mezclas -->
          <div class="container-fluid">
            <div class="mb-4" >
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button id="crear-mezclas" pButton pRipple label="Crear Mezclas" icon="pi pi-check-circle" type="button" class="p-button-danger r-2" (click)="cargarModalMezclas()"></button>
              </div>
            </div>
          </div>

          <!-- Modal para crear mezclas -->
          <p-dialog header="Crear Mezclas Predefinidas" [(visible)]="modalMezclas" [style]="{width: '90vw'}" [modal]="true" [resizable]="true" id="mezclas-ot">
            <!--Ver tutorial-->
            <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-3">
              <p-button id="mezclas-ot" icon="pi pi-info" styleClass="p-button-rounded p-button-warning" [style]="{width: '25px', height: '25px'}" pTooltip="Ver Tutorial" tooltipPosition="left"></p-button>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-4">
              <button pButton id="crear-material" class="p-button-danger" type="button" label="Crear Materiales" icon="pi pi-check-circle" (click)="cargarModalMateriales()"> </button>
              <button pButton id="crear-pigmento" class="p-button-danger" type="button" label="Crear Pigmentos" icon="pi pi-check-circle" (click)="cargarModalPigmentos()"> </button>
            </div>

            <!--Modal Materiales -->
            <p-dialog header="Creación de Materiales" [(visible)]="modalMateriales" [modal]="true" [resizable]="true" >
              <form [formGroup]="formCrearMateriales">
                <div class="mb-3">
                  <div class="row g-4 justify-content-md-center">
                    <p-toast position="center" [preventOpenDuplicates]="true"></p-toast>

                    <!-- Nombre -->
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                      <span class="p-float-label">
                        <input formControlName="matNombre" autocomplete="off" id="material" list="materiales" type="text" pInputText (change)="cargarMezclaMateria()" required/>
                        <datalist id="materiales">
                          <option value={{item.mezMaterial_Nombre}} *ngFor="let item of mezclasMateriales2">{{item.mezMaterial_Nombre}}</option>
                        </datalist>
                        <label for="material">Nombre</label>
                      </span>
                    </div>

                    <!-- Descripcion -->
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                      <span class="p-float-label">
                        <textarea formControlName="matDescripcion" [rows]="1" maxlength="200" pInputTextarea></textarea>
                        <label for="textarea">Descripción</label>
                      </span>
                    </div>
                  </div>
                </div>
              </form>

              <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <button pButton pRipple label="Crear Material" icon="pi pi-plus" class="p-button-danger r-2" (click)="crearMaterial()"></button>
              </div>
            </p-dialog>

            <!-- Modal Pigmentos -->
            <p-dialog header="Creación de Pigmentos" [contentStyle]="{'overflow':'visible'}" [(visible)]="modalPigmentos" [modal]="true" [resizable]="true" >
              <form [formGroup]="formCrearPigmentos">
                <div class="mb-3">
                  <div class="row g-4 justify-content-md-center">
                    <p-toast position="center" [preventOpenDuplicates]="true"></p-toast>

                    <!-- Nombre -->
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                      <span class="p-input-icon-left p-float-label">
                        <i class="pi pi-shopping-bag"></i>
                        <input formControlName="pigNombre" autocomplete="off" id="pigNombre" list="materiales" type="text" pInputText (change)="cargarMezclaPigmento()" required/>
                        <datalist id="pigmentos">
                          <option value={{item.mezPigmto_Nombre}} *ngFor="let item of mezclasPigmentos2">{{item.mezPigmto_Nombre}}</option>
                        </datalist>
                        <label for="pigNombre">Nombre</label>
                      </span>
                    </div>

                    <!-- Descripcion -->
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                      <span class="p-float-label">
                        <textarea formControlName="pigDescripcion" [rows]="1" maxlength="200" pInputTextarea></textarea>
                        <label for="textarea">Descripción</label>
                      </span>
                    </div>
                  </div>
                </div>
              </form>

              <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <button pButton pRipple label="Crear Pigmento" icon="pi pi-plus" class="p-button-danger r-2" (click)="crearPigmento()"></button>
              </div>
            </p-dialog>

            <!-- Inicio formulario de crear mezclas -->
            <form [formGroup]="formCrearMezclas">
              <!-- División 1 -->
              <div class="container-fluid mb-4">
                <p-divider align="left" id="form-mezcla">
                  <span class="p-tag cursor"><i class="pi pi-slack"> </i> Ingresar mezcla / <i class="pi pi-box"> </i> Material</span>
                </p-divider>
                <br>
              </div>

              <div class="mb-5">
                <div class="row g-4 justify-content-md-center">

                  <!-- Nombre Mezcla -->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
                    <span class="p-float-label">
                      <input formControlName="Nombre_Mezclas" autocomplete="off" id="Mezcla" list="mezclas" type="text" pInputText (change)="cargarCombinacionMezclas2()" required/>
                      <datalist id="mezclas">
                        <option value={{item.mezcla_Nombre}} *ngFor="let item of mezclas">{{item.mezcla_Nombre}}</option>
                      </datalist>
                      <label for="Mezcla">Mezclas</label>
                    </span>
                  </div>

                  <!-- Material -->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-2 col-xxl-2">
                    <span class="p-float-label">
                      <p-dropdown formControlName="Material_MatPrima" inputId="Material" id="material" [options]="arrayMateriales2" optionLabel="material_Nombre" optionValue="material_Id" [autoDisplayFirst]="false"></p-dropdown>
                      <label for="Material">Material</label>
                    </span>
                  </div>
                </div>
              </div>

              <!--Fila 2 y 3 Checkbox-->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-server"></i> N° de capas</span>
                </p-divider>
              </div>

              <div class="mb-5" id="numero-capas">
                <div class="row justify-content-md-center">

                  <!-- Check 1 / Capa 1 -->
                  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <p-radioButton formControlName="Chechbox_Capa1" name="Chechbox_Capa1" value="1" inputId="city1" (click)="habilitarCapa1()"></p-radioButton>
                    <label style="margin-left: 5px;" for="city1"> 1</label>
                  </div>

                  <!-- Check 2 / Capa 2 -->
                  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <p-radioButton formControlName="Chechbox_Capa1" name="Chechbox_Capa1" value="2" inputId="city2" (click)="habilitarCapa2()"></p-radioButton>
                    <label style="margin-left: 5px;" for="city2"> 2</label>
                  </div>

                  <!-- Check 3 / Capa 3 -->
                  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <p-radioButton formControlName="Chechbox_Capa1" name="Chechbox_Capa1" value="3" inputId="city3" (click)="habilitarCapa3()"></p-radioButton>
                    <label style="margin-left: 5px;" for="city3"> 3</label>
                  </div>
                </div>
              </div>

              <!--Fila 4-->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-percentage"></i> Porc. de mezcla de capas</span>
                </p-divider>
                <br>
              </div>

              <div class="mb-5" id="porc-mezclas">
                <div class="row g-4 justify-content-md-center justify-content-center">

                  <!--Capa 1 unica-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
                    <span class="p-float-label">
                      <p-inputNumber formControlName="Proc_Capa1" inputId="Proc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                      <label for="Proc_Capa1">% Capa 1</label>
                    </span>
                  </div>

                  <!--Capa 2 interna-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
                    <span class="p-float-label">
                      <p-inputNumber formControlName="Proc_Capa2" inputId="Proc_Capa2" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                      <label for="Proc_Capa2">% Capa 2</label>
                    </span>
                  </div>

                  <!--Capa 3 Externa-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
                    <span class="p-float-label">
                      <p-inputNumber formControlName="Proc_Capa3" inputId="Proc_Capa3" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                      <label for="Proc_Capa3">% Capa 3</label>
                    </span>
                  </div>
                </div>
              </div>

              <!--fila 5-->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-percentage"></i> Porc. de mezcla de materiales</span>
                </p-divider>
                <br>
              </div>

              <div class="mb-3" id="porc-materiales">
                <div class="row g-4">
                  <!--Materiales y pigmentos capa 1-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 mb-2">
                    <div class="mb-4" style="text-align: center;">
                      <h6 class="tituloRojo">Capa 1</h6>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP1_Capa1" inputId="Material1" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre"  [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material1">Material 1</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP1_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 2 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP2_Capa1" inputId="Material2" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material2">Material 2</label>
                          </span>
                        </div>

                        <!--% Material 2 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP2_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP3_Capa1" inputId="Material3" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material3">Material 3</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP3_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP4_Capa1" inputId="Material1" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material1">Material 4</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP4_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP1_Capa1" inputId="Pigmento1" [options]="mezclasPigmentos2" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [filter]="true" filterBy="mezPigmto_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Pigmento1">Pigmento 1</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP1_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP2_Capa1" inputId="Pigmento2" [options]="mezclasPigmentos2" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [filter]="true" filterBy="mezPigmto_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Pigmento2">Pigmento 2</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP2_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--Materiales y pigmentos capa 2-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 mb-2">
                    <div class="mb-4" style="text-align: center;">
                      <h6 class="tituloRojo">Capa 2</h6>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP1_Capa2" inputId="Material1" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material1">Material 1</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP1_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 2 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP2_Capa2" inputId="Material2" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material2">Material 2</label>
                          </span>
                        </div>

                        <!--% Material 2 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP2_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP3_Capa2" inputId="Material3" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material3">Material 3</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP3_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP4_Capa2" inputId="Material1" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material1">Material 4</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP4_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP1_Capa2" inputId="Pigmento1" [options]="mezclasPigmentos2" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [filter]="true" filterBy="mezPigmto_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Pigmento1">Pigmento 1</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP1_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP2_Capa2" inputId="Pigmento2" [options]="mezclasPigmentos2" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [filter]="true" filterBy="mezPigmto_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Pigmento2">Pigmento 2</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP2_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--Materiales y pigmentos capa 3-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 mb-2">
                    <div class="mb-4" style="text-align: center;">
                      <h6 class="tituloRojo">Capa 3</h6>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP1_Capa3" inputId="Material1" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material1">Material 1</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP1_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 2 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP2_Capa3" inputId="Material2" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material2">Material 2</label>
                          </span>
                        </div>

                        <!--% Material 2 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP2_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP3_Capa3" inputId="Material3" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material3">Material 3</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP3_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP4_Capa3" inputId="Material1" [options]="mezclasMateriales2" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [filter]="true" filterBy="mezMaterial_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Material1">Material 4</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP4_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmento1_Capa3" inputId="Pigmento1" [options]="mezclasPigmentos2" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [filter]="true" filterBy="mezPigmto_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Pigmento1">Pigmento 1</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP1_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmento2_Capa3" inputId="Pigmento2" [options]="mezclasPigmentos2" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [filter]="true" filterBy="mezPigmto_Nombre" [autoDisplayFirst]="false"></p-dropdown>
                            <label for="Pigmento2">Pigmento 2</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP2_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </form>

            <!--Botones-->
            <div class="d-grid gap-2 d-md-flex justify-content-md-center" id="crear-nueva">
              <button pButton class="p-button-danger" type="button" label="Crear Mezcla" icon="pi pi-check" (click)="crearMezclaPredefinida()"></button>
              <button pButton class="p-button-secondary" type="button" label="Limpiar Campos" icon="pi pi-eraser" (click)="initFormCrearMezclas()"></button>
            </div>
          </p-dialog>

          <!--Mezclas OT-->
          <div class="container">
            <form [formGroup]="FormOrdenTrabajoMezclas">

              <!-- División 1 -->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-slack"> </i> Nombre de mezcla</span>
                </p-divider>
                <br>
              </div>

              <div class="mb-5">
                <div class="row g-4 justify-content-md-center">

                  <!-- Nombre Mezcla -->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 col-xxl-6">
                    <span class="p-float-label">
                      <input formControlName="Nombre_Mezclas" autocomplete="off" id="Mezcla" list="mezclas" type="text" pInputText (change)="cargarCombinacionMezclas()" required/>
                      <datalist id="mezclas">
                        <option value={{item.mezcla_Nombre}} *ngFor="let item of mezclas">{{item.mezcla_Nombre}}</option>
                      </datalist>
                      <label for="Mezcla">Mezclas</label>
                    </span>
                  </div>
                </div>
              </div>

              <!--Fila 2 y 3 Checkbox-->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-server"></i> N° de capas</span>
                </p-divider>
              </div>

              <div class="mb-5" id="numero-capas">
                <div class="row justify-content-md-center">

                  <!-- Check 1 / Capa 1 -->
                  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <p-radioButton formControlName="Chechbox_Capa1" name="Chechbox_Capa1" value="1" readonly onmousedown="return false;" [required]="true"></p-radioButton>
                    <label style="margin-left: 5px;" for="city1"> 1</label>
                  </div>

                  <!-- Check 2 / Capa 2 -->
                  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <p-radioButton formControlName="Chechbox_Capa1" name="Chechbox_Capa1" value="2" readonly onmousedown="return false;" [required]="true"></p-radioButton>
                    <label style="margin-left: 5px;" for="city2"> 2</label>
                  </div>

                  <!-- Check 3 / Capa 3 -->
                  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <p-radioButton formControlName="Chechbox_Capa1" name="Chechbox_Capa1" value="3" readonly onmousedown="return false;" [required]="true"></p-radioButton>
                    <label style="margin-left: 5px;" for="city3"> 3</label>
                  </div>
                </div>
              </div>

              <!--Fila 4-->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-percentage"></i> Porc. de mezcla de capas</span>
                </p-divider>
                <br>
              </div>

              <div class="mb-5" id="porc-mezclas">
                <div class="row g-4 justify-content-md-center justify-content-center">

                  <!--Capa 1 unica-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
                    <span class="p-float-label">
                      <p-inputNumber formControlName="Proc_Capa1" inputId="Proc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                      <label for="Proc_Capa1">% Capa 1</label>
                    </span>
                  </div>

                  <!--Capa 2 interna-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
                    <span class="p-float-label">
                      <p-inputNumber formControlName="Proc_Capa2" inputId="Proc_Capa2" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                      <label for="Proc_Capa2">% Capa 2</label>
                    </span>
                  </div>

                  <!--Capa 3 Externa-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 col-xxl-4">
                    <span class="p-float-label">
                      <p-inputNumber formControlName="Proc_Capa3" inputId="Proc_Capa3" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                      <label for="Proc_Capa3">% Capa 3</label>
                    </span>
                  </div>
                </div>
              </div>

              <!--fila 5-->
              <div class="container-fluid mb-4">
                <p-divider align="left">
                  <span class="p-tag cursor"><i class="pi pi-percentage"></i> Porc. de mezcla de materiales</span>
                </p-divider>
                <br>
              </div>

              <div class="mb-3" id="porc-materiales">
                <div class="row g-4">

                  <!--Materiales y pigmentos capa 1-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 mb-2">
                    <div class="mb-4" style="text-align: center;">
                      <h6 class="tituloRojo">Capa 1</h6>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP1_Capa1" inputId="Material1" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material1">Material 1</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP1_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 2 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP2_Capa1" inputId="Material2" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material2">Material 2</label>
                          </span>
                        </div>

                        <!--% Material 2 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP2_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP3_Capa1" inputId="Material3" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material3">Material 3</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP3_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP4_Capa1" inputId="Material1" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material1">Material 4</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP4_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP1_Capa1" inputId="Pigmento1" [options]="mezclasPigmentos" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Pigmento1">Pigmento 1</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP1_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP2_Capa1" inputId="Pigmento2" [options]="mezclasPigmentos" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Pigmento2">Pigmento 2</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP2_Capa1" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--Materiales y pigmentos capa 2-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 mb-2">
                    <div class="mb-4" style="text-align: center;">
                      <h6 class="tituloRojo">Capa 2</h6>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP1_Capa2" inputId="Material1" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material1">Material 1</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP1_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 2 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP2_Capa2" inputId="Material2" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material2">Material 2</label>
                          </span>
                        </div>

                        <!--% Material 2 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP2_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP3_Capa2" inputId="Material3" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material3">Material 3</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP3_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP4_Capa2" inputId="Material1" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material1">Material 4</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP4_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP1_Capa2" inputId="Pigmento1" [options]="mezclasPigmentos" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Pigmento1">Pigmento 1</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP1_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmentoP2_Capa2" inputId="Pigmento2" [options]="mezclasPigmentos" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Pigmento2">Pigmento 2</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP2_Capa2" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--Materiales y pigmentos capa 3-->
                  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 mb-2">
                    <div class="mb-4" style="text-align: center;">
                      <h6 class="tituloRojo">Capa 3</h6>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP1_Capa3" inputId="Material1" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material1">Material 1</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP1_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 2 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP2_Capa3" inputId="Material2" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material2">Material 2</label>
                          </span>
                        </div>

                        <!--% Material 2 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP2_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP3_Capa3" inputId="Material3" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material3">Material 3</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP3_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Material 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="materialP_Capa3" inputId="Material1" [options]="mezclasMateriales" optionLabel="mezMaterial_Nombre" optionValue="mezMaterial_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Material1">Material 4</label>
                          </span>
                        </div>

                        <!--% Material 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMaterialP_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmento1_Capa3" inputId="Pigmento1" [options]="mezclasPigmentos" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Pigmento1">Pigmento 1</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP1_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="mb-4">
                      <div class="row g-4">

                        <!--Pigmento 1 Capa 1 -->
                        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                          <span class="p-float-label">
                            <p-dropdown formControlName="MezclaPigmento2_Capa3" inputId="Pigmento2" [options]="mezclasPigmentos" optionLabel="mezPigmto_Nombre" optionValue="mezPigmto_Id" [autoDisplayFirst]="false" [required]="true"></p-dropdown>
                            <label for="Pigmento2">Pigmento 2</label>
                          </span>
                        </div>

                        <!--% Pigmento 1 Capa 1-->
                        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                          <span class="p-float-label">
                            <p-inputNumber formControlName="PorcentajeMezclaPigmentoP2_Capa3" inputId="Porc_Capa1" mode="decimal" [minFractionDigits]="2" [required]="true"></p-inputNumber>
                            <label for="Porc_Capa1">%</label>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </p-tabPanel>

      </p-tabView>

      <!-- Botones -->
      <div class="bajarPagina">
        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
          <button pButton class="p-button-danger" id="crear" type="button" label="Crear OT" icon="pi pi-check" *ngIf="!edicionOrdenTrabajo" (click)="validarDatos()"></button>
          <button pButton class="p-button-danger" id="editar" type="button" label="Editar OT" icon="pi pi-check" *ngIf="edicionOrdenTrabajo" (click)="validarActualizacionOT()"></button>
          <button pButton class="p-button-secondary" id="limpiar" type="button" label="Limpiar Campos" icon="pi pi-eraser" (click)="limpiarCampos()"></button>
        </div>
      </div>

    </div>
  </div>

</p-card>

<!-- Modal de crear producto -->
<p-dialog header="Crear Productos" [(visible)]="ModalCrearProductos" [style]="{width: '80vw'}" [modal]="true" [draggable]="false" (onHide)="ngOnInit()">
  <app-crear-producto></app-crear-producto>
</p-dialog>

<!-- Modal de crear clientes -->
<p-dialog header="Crear Clientes" [(visible)]="ModalCrearCliente" [style]="{width: '80%'}" [modal]="true" [draggable]="false" (onHide)="ngOnInit()">
  <app-crear-clientes></app-crear-clientes>
</p-dialog>

<p-toast position="center" key="editarOrden" (onClose)="cerrarMensaje()" [baseZIndex]="5000">
  <ng-template let-message pTemplate="message">
    <div class="flex flex-column" style="flex: 1">
      <div class="text-center">
        <i class="pi pi-exclamation-triangle font-size-48"></i>
        <h4>{{message.summary}}</h4>
        <p innerHtml="{{message.detail}}"></p>
      </div>
      <div class="p-fluid" style="display: flex;">
        <div class="col-6" style="margin-right: 5px;">
          <button type="button" pButton (click)="editarOrdenTrabajo()" icon="pi pi-check" label="Editar OT" class="p-button-warning"></button>
        </div>
        <div class="col-6">
          <button type="button" pButton (click)="cerrarMensaje()" icon="pi pi-times" label="Cancelar" class="p-button-secondary"></button>
        </div>
      </div>
    </div>
  </ng-template>
</p-toast>